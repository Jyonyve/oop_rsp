(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n(20)},17:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var s,a=n(0),c=n.n(a),r=n(8),o=n.n(r),l=n(2),u=(n(17),n(4)),i=n(5),m=n(6),p=n(10),b=n(9),f=n(11),g=n(3),h=n(1);!function(e){e[e.rock=0]="rock",e[e.scissors=1]="scissors",e[e.paper=2]="paper"}(s||(s={}));var j=function(e){var t=e,n={};switch(t){case s.rock:n.name="Rock",n.img="https://media.istockphoto.com/photos/stone-pebble-gray-picture-id1288973456?b=1&k=20&m=1288973456&s=170667a&w=0&h=GBGgp4yrZv4ooDBws8yHF24sJ3rkEpObYsBWpVNKFT8=";break;case s.scissors:n.name="Scissors",n.img="https://www.ikea.com/kr/en/images/products/sy-scissors__0112301_pe263788_s5.jpg?f=s";break;case s.paper:n.name="Paper",n.img="https://www.collinsdictionary.com/images/full/paper_111691001.jpg";break;default:throw console.log(t),new Error("\uac00\uc704\ubc14\uc704\ubcf4 \uac12\uc774 \uc5c6\uc2b5\ub2c8\ub2e4!!")}return{rcp_choice:t,rcp_value:n}},O=function(){function e(){Object(i.a)(this,e),this.isDataIn=!1,e.myInstance=new Map}return Object(m.a)(e,null,[{key:"getPlayMap",value:function(){return null===e.myInstance&&(e.myInstance=new Map),this.myInstance}},{key:"getMapState",value:function(){return!!(this.myInstance&&this.myInstance.size>1)}}]),e}();O.myInstance=null;var y=function(e,t){return Object.keys(e)[0]==Object.keys(t)[0]?"tie":Object.keys(e)[0]==s.rock?Object.keys(t)[0]==s.scissors?"win":"lose":Object.keys(e)[0]==s.scissors?Object.keys(t)[0]==s.paper?"win":"lose":Object.keys(e)[0]==s.paper?Object.keys(t)[0]==s.rock?"win":"lose":void 0};var d=function(e){var t=e.title,n=e.item,s=e.result,a=Object(h.f)(n),r=a[Object.keys(a)[0]];return c.a.createElement("div",{className:"box ".concat(s)},c.a.createElement("h1",null,t),c.a.createElement("h2",{"data-testid":"item-name"}," ",r?Object.values(r)[0]:""," "),c.a.createElement("img",{className:"item-img",src:r?Object.values(r)[1]:""}),c.a.createElement("h2",null,s))},k=function(e){var t=e.title,n=e.item,r=e.result,o=e.setUserSelect,l=e.setUserResult,u=e.gameCount,i=e.setGameCount,m=e.dataInMap,p=function(e){console.log("4: user - click play, setUserSelect"),Object(h.e)(function(){return o(e)})};return Object(a.useEffect)(function(){1==m&&Object(h.e)(function(){return l()})},[m]),Object(a.useEffect)(function(){0==m&&(i(u+1),console.log(" 0. set gameCount | 10: play - gameCount +1"),console.log("game Count : ".concat(u)))},[m]),c.a.createElement("div",{className:"main"},c.a.createElement("div",null,c.a.createElement(d,{title:t,item:n,result:r})),c.a.createElement("div",null,c.a.createElement("button",{onClick:function(){p(s.scissors)}},"\uac00\uc704"),c.a.createElement("button",{onClick:function(){p(s.rock)}},"\ubc14\uc704"),c.a.createElement("button",{onClick:function(){p(s.paper)}},"\ubcf4")))},v=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(p.a)(this,Object(b.a)(t).call(this,e)))._title="User",n._userSelect={},n._userResult="",n.playMap=O.getPlayMap(),Object(h.c)(Object(g.a)(Object(g.a)(n)),{_userSelect:h.d,_userResult:h.d,userSelect:h.b,userResult:h.b,setUserSelect:h.a.bound,setUserResult:h.a.bound}),n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"setUserSelect",value:function(e){var t=j(e),n=t.rcp_choice,s=t.rcp_value;this._userSelect=Object(u.a)({},n,s),console.log("5: user - userSelect to Map"),this.playMap.set("userSelect",this.userSelect),console.log("6: Data - DataInMap to true(ready to get result)"),this.props.setDataInMap(!0)}},{key:"setUserResult",value:function(){if(console.log("7: Data - setUserResult"),1==this.props.dataInMap){var e=this.userSelect,t=this.playMap.get("comSelect");console.log("DataInMap == true, this judgement is for user");var n=y(e,t);this._userResult=n,console.log("user result = ".concat(this._userResult))}}},{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(k,Object.assign({},this.props,{title:this._title,item:this.userSelect,result:this._userResult,setUserSelect:this.setUserSelect.bind(this),setUserResult:this.setUserResult.bind(this)})))}},{key:"title",get:function(){return this._title}},{key:"userSelect",get:function(){return this._userSelect}},{key:"userResult",get:function(){return this._userResult}}]),t}(a.Component);var E=function(e){var t=O.getPlayMap(),n=e.gameCount,r=e.dataInMap,o=Object(a.useState)({}),i=Object(l.a)(o,2),m=i[0],p=i[1],b=Object(a.useState)(""),f=Object(l.a)(b,2),g=f[0],h=f[1],k=Object(a.useRef)({});return Object(a.useEffect)(function(){k.current=m},[m]),Object(a.useEffect)(function(){if(n>0){console.log("1: com - random choice");var e=function(){var e=Object.keys(s).filter(function(e){return isNaN(Number(e))}),t=Math.floor(Math.random()*e.length);return j(t)}(),a=Object(u.a)({},e.rcp_choice,e.rcp_value);console.log("2: com -  comSelect to Map"),t.set("comSelect",a),console.log("3: com -  setComSelect"),p(a)}},[n]),Object(a.useEffect)(function(){if(1==r){console.log("DataInMap == true, this judgement is for computer");var n=y(t.get("comSelect"),t.get("userSelect"));console.log("computer result : ".concat(n)),console.log("8: com - setComResult"),h(n),t.clear,console.log("9: Data - set DataInMap to false"),e.setDataInMap(!1)}},[r]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement(d,{title:"Computer",item:k.current,result:g})))},S=function(){var e=Object(a.useState)(0),t=Object(l.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(!1),o=Object(l.a)(r,2),u=o[0],i=o[1];return c.a.createElement("div",null,c.a.createElement("div",{className:"main"},c.a.createElement(v,{gameCount:n,setGameCount:s,dataInMap:u,setDataInMap:i}),c.a.createElement(E,{gameCount:n,setGameCount:s,dataInMap:u,setDataInMap:i})))},M=(n(19),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,21)).then(function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),s(e),a(e),c(e),r(e)})});o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(S,null)),document.getElementById("root")),M()}},[[12,1,2]]]);
//# sourceMappingURL=main.07ae013f.chunk.js.map